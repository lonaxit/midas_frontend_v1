(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-05eefda4"],{"05d8":function(e,t,l){"use strict";var d=l("7a23");const o={class:"submit"};function a(e,t,l,a,n,c){return Object(d["openBlock"])(),Object(d["createElementBlock"])("div",o,[Object(d["renderSlot"])(e.$slots,"action")])}var n={},c=l("6b0d"),r=l.n(c);const u=r()(n,[["render",a]]);t["a"]=u},ac2d:function(e,t,l){"use strict";l.r(t);var d=l("7a23");const o={class:"grid"},a={class:"col-12"},n={class:"card p-fluid"},c=Object(d["createElementVNode"])("h5",null,"New Loan",-1),r={class:"p-fluid formgrid grid"},u={class:"field col-12 md:col-3"},i=Object(d["createElementVNode"])("label",{for:"userid"},"UserID",-1),s={class:"field col-12 md:col-3"},m=Object(d["createElementVNode"])("label",{for:"amount"},"Requested Amount",-1),p={class:"field col-12 md:col-3"},b=Object(d["createElementVNode"])("label",{for:"approved"},"Approved Amount",-1),V={class:"field col-12 md:col-3"},h=Object(d["createElementVNode"])("label",{for:"deduction"},"Deduction",-1),O={class:"field col-12 md:col-3"},j=Object(d["createElementVNode"])("label",{for:"loandate"},"Loan Date",-1),f={class:"field col-12 md:col-3"},N=Object(d["createElementVNode"])("label",{for:"startdate"},"Start Date",-1),v={class:"field col-12 md:col-3"},y=Object(d["createElementVNode"])("label",{for:"enddate"},"End Date",-1),E={class:"field col-12 md:col-3"},w=Object(d["createElementVNode"])("label",{for:"tenor"},"Tenor",-1),_={class:"field col-12 md:col-6"},P=Object(d["createElementVNode"])("label",{for:"netpay"},"Net Pay",-1),U={class:"field col-12 md:col-6"},S=Object(d["createElementVNode"])("label",{for:"products"},"Products",-1),g=Object(d["createElementVNode"])("button",null,"Create Loan",-1);function k(e,t,l,k,x,L){const $=Object(d["resolveComponent"])("InputText"),B=Object(d["resolveComponent"])("Dropdown"),C=Object(d["resolveComponent"])("SubmitButton");return Object(d["openBlock"])(),Object(d["createElementBlock"])("div",o,[Object(d["createElementVNode"])("div",a,[Object(d["createElementVNode"])("div",n,[c,Object(d["createElementVNode"])("form",{onSubmit:t[10]||(t[10]=Object(d["withModifiers"])((...e)=>L.createLoan&&L.createLoan(...e),["prevent"]))},[Object(d["createElementVNode"])("div",r,[Object(d["createElementVNode"])("div",u,[i,Object(d["createVNode"])($,{id:"userid",type:"number",modelValue:x.userid,"onUpdate:modelValue":t[0]||(t[0]=e=>x.userid=e)},null,8,["modelValue"])]),Object(d["createElementVNode"])("div",s,[m,Object(d["createVNode"])($,{id:"amount",type:"number",modelValue:x.amount,"onUpdate:modelValue":t[1]||(t[1]=e=>x.amount=e)},null,8,["modelValue"])]),Object(d["createElementVNode"])("div",p,[b,Object(d["createVNode"])($,{id:"approved",type:"number",modelValue:x.approved,"onUpdate:modelValue":t[2]||(t[2]=e=>x.approved=e)},null,8,["modelValue"])]),Object(d["createElementVNode"])("div",V,[h,Object(d["createVNode"])($,{id:"deduction",type:"number",modelValue:x.deduction,"onUpdate:modelValue":t[3]||(t[3]=e=>x.deduction=e)},null,8,["modelValue"])]),Object(d["createElementVNode"])("div",O,[j,Object(d["createVNode"])($,{id:"loandate",type:"date",modelValue:x.loandate,"onUpdate:modelValue":t[4]||(t[4]=e=>x.loandate=e)},null,8,["modelValue"])]),Object(d["createElementVNode"])("div",f,[N,Object(d["createVNode"])($,{id:"startdate",type:"date",modelValue:x.startdate,"onUpdate:modelValue":t[5]||(t[5]=e=>x.startdate=e)},null,8,["modelValue"])]),Object(d["createElementVNode"])("div",v,[y,Object(d["createVNode"])($,{id:"enddate",type:"date",modelValue:x.enddate,"onUpdate:modelValue":t[6]||(t[6]=e=>x.enddate=e)},null,8,["modelValue"])]),Object(d["createElementVNode"])("div",E,[w,Object(d["createVNode"])($,{id:"tenor",type:"number",modelValue:x.tenor,"onUpdate:modelValue":t[7]||(t[7]=e=>x.tenor=e)},null,8,["modelValue"])]),Object(d["createElementVNode"])("div",_,[P,Object(d["createVNode"])($,{id:"netpay",type:"number",modelValue:x.netpay,"onUpdate:modelValue":t[8]||(t[8]=e=>x.netpay=e)},null,8,["modelValue"])]),Object(d["createElementVNode"])("div",U,[S,Object(d["createVNode"])(B,{id:"products",modelValue:x.selectedProduct,"onUpdate:modelValue":t[9]||(t[9]=e=>x.selectedProduct=e),options:e.allPrducts,optionLabel:"name",placeholder:"Select One"},null,8,["modelValue","options"])])]),Object(d["createVNode"])(C,null,{action:Object(d["withCtx"])(()=>[g]),_:1})],32)])])])}var x=l("bc3a"),L=l.n(x),$=l("05d8"),B=l("5502"),C={data(){return{selectedProduct:[],product_id:null,enddate:null,amount:null,approved:null,deduction:null,loandate:null,startdate:null,tenor:null,netpay:null,userid:null}},components:{SubmitButton:$["a"]},methods:{...Object(B["b"])(["getProducts"]),createLoan(){if(null==this.amount||0==this.amount&&null==this.approved||0==this.approved&&null==this.deduction||0==this.deduction&&null==this.tenor||0==this.tenor&&null==this.netpay||0==this.netpay)this.$notify({text:"Enter all fields",duration:5e3,type:"error"});else if(0==this.selectedProduct.length)this.$notify({text:"Select a product",duration:5e3,type:"error"});else if(null==this.enddate||null==this.startdate||null==this.loandate)this.$notify({text:"Select a valid date",duration:5e3,type:"error"});else{const e={end_date:this.enddate,applied_amount:this.amount,approved_amount:this.approved,monthly_deduction:this.deduction,loan_date:this.loandate,start_date:this.startdate,tenor:this.tenor,net_pay:this.netpay,product:this.selectedProduct.id,owner:this.userid,transaction_code:Math.floor(1e6+9e6*Math.random())},t=async()=>{try{await L.a.post("api/v1/loans/",e);this.$notify({text:"Created Successfully",duration:5e3,type:"success"}),this.enddate=null,this.amount=null,this.approved=null,this.deduction=null,this.loandate=null,this.startdate=null,this.tenor=null,this.netpay=null,this.product_id=null,this.userid=null}catch(t){this.$notify({text:"Something went wrong",duration:5e3,type:"error"})}};t()}}},computed:{...Object(B["c"])(["allPrducts"]),products_loader(){return this.$store.getters.products_loader}},created(){this.getProducts()}},D=l("6b0d"),A=l.n(D);const M=A()(C,[["render",k]]);t["default"]=M}}]);
//# sourceMappingURL=chunk-05eefda4.92fdbd52.js.map
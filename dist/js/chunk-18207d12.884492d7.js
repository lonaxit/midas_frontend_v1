(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-18207d12"],{"05d8":function(e,t,a){"use strict";var r=a("7a23");const o={class:"submit"};function n(e,t,a,n,s,i){return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",o,[Object(r["renderSlot"])(e.$slots,"action")])}var s={},i=a("6b0d"),l=a.n(i);const d=l()(s,[["render",n]]);t["a"]=d},cd6f:function(e,t,a){},d4c7:function(e,t,a){"use strict";a("cd6f")},fd6e:function(e,t,a){"use strict";a.r(t);var r=a("7a23");const o=e=>(Object(r["pushScopeId"])("data-v-f49192e8"),e=e(),Object(r["popScopeId"])(),e),n={class:"new-accout-container"},s=o(()=>Object(r["createElementVNode"])("h1",null,"Create a new account",-1)),i=o(()=>Object(r["createElementVNode"])("label",null,"Surname",-1)),l=o(()=>Object(r["createElementVNode"])("label",null,"Firstname",-1)),d=o(()=>Object(r["createElementVNode"])("label",null,"Othername",-1)),c=o(()=>Object(r["createElementVNode"])("label",null,"IPPIS Number",-1)),m=o(()=>Object(r["createElementVNode"])("label",null,"Date of Birth",-1)),u=o(()=>Object(r["createElementVNode"])("label",null,"Date of First Appointment",-1)),p=o(()=>Object(r["createElementVNode"])("label",null,"Username",-1)),h=o(()=>Object(r["createElementVNode"])("label",null,"Password",-1)),f=o(()=>Object(r["createElementVNode"])("label",null,"Confirm Password",-1)),b=o(()=>Object(r["createElementVNode"])("label",null,"Roles:",-1)),D=o(()=>Object(r["createElementVNode"])("option",{value:"employee"},"Employee",-1)),O=o(()=>Object(r["createElementVNode"])("option",{value:"admin"},"Admin",-1)),j=[D,O],v=o(()=>Object(r["createElementVNode"])("div",{class:"submit"},[Object(r["createElementVNode"])("button",{type:"submit"},"Create an Account")],-1));function w(e,t,a,o,D,O){return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",n,[s,Object(r["createElementVNode"])("form",{onSubmit:t[10]||(t[10]=Object(r["withModifiers"])((...e)=>O.handleSubmit&&O.handleSubmit(...e),["prevent"]))},[i,Object(r["withDirectives"])(Object(r["createElementVNode"])("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>D.formData.last_name=e),placeholder:"Enter Surname"},null,512),[[r["vModelText"],D.formData.last_name]]),l,Object(r["withDirectives"])(Object(r["createElementVNode"])("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>D.formData.first_name=e)},null,512),[[r["vModelText"],D.formData.first_name]]),d,Object(r["withDirectives"])(Object(r["createElementVNode"])("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=e=>D.formData.other_name=e)},null,512),[[r["vModelText"],D.formData.other_name]]),c,Object(r["withDirectives"])(Object(r["createElementVNode"])("input",{type:"number",min:"1","onUpdate:modelValue":t[3]||(t[3]=e=>D.formData.ippis_number=e)},null,512),[[r["vModelText"],D.formData.ippis_number]]),m,Object(r["withDirectives"])(Object(r["createElementVNode"])("input",{type:"date","onUpdate:modelValue":t[4]||(t[4]=e=>D.formData.dob=e)},null,512),[[r["vModelText"],D.formData.dob]]),u,Object(r["withDirectives"])(Object(r["createElementVNode"])("input",{type:"date","onUpdate:modelValue":t[5]||(t[5]=e=>D.formData.dofa=e)},null,512),[[r["vModelText"],D.formData.dofa]]),p,Object(r["withDirectives"])(Object(r["createElementVNode"])("input",{type:"text","onUpdate:modelValue":t[6]||(t[6]=e=>D.formData.username=e)},null,512),[[r["vModelText"],D.formData.username]]),h,Object(r["withDirectives"])(Object(r["createElementVNode"])("input",{type:"password","onUpdate:modelValue":t[7]||(t[7]=e=>D.formData.password=e)},null,512),[[r["vModelText"],D.formData.password]]),f,Object(r["withDirectives"])(Object(r["createElementVNode"])("input",{type:"password","onUpdate:modelValue":t[8]||(t[8]=e=>D.formData.re_password=e)},null,512),[[r["vModelText"],D.formData.re_password]]),b,Object(r["withDirectives"])(Object(r["createElementVNode"])("select",{"onUpdate:modelValue":t[9]||(t[9]=e=>D.formData.role=e)},j,512),[[r["vModelSelect"],D.formData.role]]),v],32)])}a("bc3a"),a("05d8");var y=a("5502"),V={data(){return{formData:{username:"",password:"",re_password:"",last_name:"",firs_tname:"",other_name:"",is_employee:!1,is_staff:!1,role:"",dob:"",dofa:"",ippis_number:""},error:[]}},components:{},computed:{...Object(y["c"])(["user_Detail"])},methods:{...Object(y["b"])(["newAccount","getUserByUsername"]),handleSubmit(){this.error=[],this.formData.username||(this.error.push("Please provide a username"),this.$notify({text:"Please provide a username",duration:5e3,type:"error"})),this.formData.password||this.formData.re_password||(this.error.push("Missing password value"),this.$notify({text:"Missing password value",duration:5e3,type:"error"})),this.formData.password!=this.formData.re_password&&(this.error.push("Password do not matach"),this.$notify({text:"Password do not match",duration:5e3,type:"error"})),this.formData.last_name||(this.error.push("Provide a surname"),this.$notify({text:"Provide a surname",duration:5e3,type:"error"})),this.formData.first_name||(this.error.push("Provide a firstname"),this.$notify({text:"Provide a firstname",duration:5e3,type:"error"})),this.formData.ippis_number||(this.error.push("Provide  ippis number"),this.$notify({text:"Provide ippis number",duration:5e3,type:"error"})),this.formData.dob||(this.error.push("Provide  a date of birth"),this.$notify({text:"Provide a date of birth",duration:5e3,type:"error"})),this.formData.dofa||(this.error.push("Provide date of first appointment"),this.$notify({text:"Provide date of first appointment",duration:5e3,type:"error"})),"admin"===this.formData.role&&(this.is_staff=!0),"employee"===this.formData.role&&(this.is_employee=!0),0===this.error.length&&this.newAccount(this.formData).then(e=>{console.log(e.data),this.getUserByUsername(this.formData.username).then(()=>{this.$router.push({name:"new-profile",params:{user_id:this.user_Detail.user.id}}),this.$notify({text:"Account Created Successfully, Please Fill The User Profile",duration:5e3,type:"success"})}).catch(e=>{this.$router.push({name:"all-users"})})}).catch(e=>{this.$notify({text:e,duration:5e3,type:"error"})})}}},E=(a("d4c7"),a("6b0d")),_=a.n(E);const N=_()(V,[["render",w],["__scopeId","data-v-f49192e8"]]);t["default"]=N}}]);
//# sourceMappingURL=chunk-18207d12.884492d7.js.map
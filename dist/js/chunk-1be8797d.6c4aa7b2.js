(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1be8797d"],{"05d8":function(e,t,l){"use strict";var a=l("7a23");const o={class:"submit"};function d(e,t,l,d,n,c){return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",o,[Object(a["renderSlot"])(e.$slots,"action")])}var n={},c=l("6b0d"),i=l.n(c);const r=i()(n,[["render",d]]);t["a"]=r},6814:function(e,t,l){"use strict";l.r(t);var a=l("7a23");const o={class:"grid"},d={class:"col-12"},n={class:"card p-fluid"},c=Object(a["createElementVNode"])("h5",null,"Update Loan",-1),i={class:"p-fluid formgrid grid"},r={class:"field col-12 md:col-3"},s=Object(a["createElementVNode"])("label",{for:"userid"},"UserID",-1),u={class:"field col-12 md:col-3"},m=Object(a["createElementVNode"])("label",{for:"amount"},"Requested Amount",-1),p={class:"field col-12 md:col-3"},h=Object(a["createElementVNode"])("label",{for:"approved"},"Approved Amount",-1),b={class:"field col-12 md:col-3"},V=Object(a["createElementVNode"])("label",{for:"deduction"},"Deduction",-1),O={class:"field col-12 md:col-3"},j=Object(a["createElementVNode"])("label",{for:"loandate"},"Loan Date",-1),f={class:"field col-12 md:col-3"},N=Object(a["createElementVNode"])("label",{for:"startdate"},"Start Date",-1),_={class:"field col-12 md:col-3"},y=Object(a["createElementVNode"])("label",{for:"enddate"},"End Date",-1),v={class:"field col-12 md:col-3"},E=Object(a["createElementVNode"])("label",{for:"tenor"},"Tenor",-1),D={class:"field col-12 md:col-4"},w=Object(a["createElementVNode"])("label",{for:"netpay"},"Net Pay",-1),P={class:"field col-12 md:col-4"},U=Object(a["createElementVNode"])("label",{for:"netpay"},"Transaction Code",-1),$={class:"field col-12 md:col-4"},g=Object(a["createElementVNode"])("label",{for:"products"},"Products",-1),L=Object(a["createElementVNode"])("button",null,"Update Loan",-1);function S(e,t,l,S,k,x){const B=Object(a["resolveComponent"])("InputText"),I=Object(a["resolveComponent"])("Dropdown"),C=Object(a["resolveComponent"])("SubmitButton");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",o,[Object(a["createElementVNode"])("div",d,[Object(a["createElementVNode"])("div",n,[c,Object(a["createElementVNode"])("form",{onSubmit:t[11]||(t[11]=Object(a["withModifiers"])((...e)=>x.updateLoan&&x.updateLoan(...e),["prevent"]))},[Object(a["createElementVNode"])("div",i,[Object(a["createElementVNode"])("div",r,[s,Object(a["createVNode"])(B,{id:"userid",type:"number",modelValue:k.userid,"onUpdate:modelValue":t[0]||(t[0]=e=>k.userid=e),disabled:""},null,8,["modelValue"])]),Object(a["createElementVNode"])("div",u,[m,Object(a["createVNode"])(B,{id:"amount",type:"number",step:"0.01",modelValue:k.amount,"onUpdate:modelValue":t[1]||(t[1]=e=>k.amount=e)},null,8,["modelValue"])]),Object(a["createElementVNode"])("div",p,[h,Object(a["createVNode"])(B,{id:"approved",type:"number",step:"0.01",modelValue:k.approved,"onUpdate:modelValue":t[2]||(t[2]=e=>k.approved=e)},null,8,["modelValue"])]),Object(a["createElementVNode"])("div",b,[V,Object(a["createVNode"])(B,{id:"deduction",type:"number",step:"0.01",modelValue:k.deduction,"onUpdate:modelValue":t[3]||(t[3]=e=>k.deduction=e)},null,8,["modelValue"])]),Object(a["createElementVNode"])("div",O,[j,Object(a["createVNode"])(B,{id:"loandate",type:"date",modelValue:k.loandate,"onUpdate:modelValue":t[4]||(t[4]=e=>k.loandate=e)},null,8,["modelValue"])]),Object(a["createElementVNode"])("div",f,[N,Object(a["createVNode"])(B,{id:"startdate",type:"date",modelValue:k.startdate,"onUpdate:modelValue":t[5]||(t[5]=e=>k.startdate=e)},null,8,["modelValue"])]),Object(a["createElementVNode"])("div",_,[y,Object(a["createVNode"])(B,{id:"enddate",type:"date",modelValue:k.enddate,"onUpdate:modelValue":t[6]||(t[6]=e=>k.enddate=e)},null,8,["modelValue"])]),Object(a["createElementVNode"])("div",v,[E,Object(a["createVNode"])(B,{id:"tenor",type:"number",modelValue:k.tenor,"onUpdate:modelValue":t[7]||(t[7]=e=>k.tenor=e)},null,8,["modelValue"])]),Object(a["createElementVNode"])("div",D,[w,Object(a["createVNode"])(B,{id:"netpay",type:"number",step:"0.01",modelValue:k.netpay,"onUpdate:modelValue":t[8]||(t[8]=e=>k.netpay=e)},null,8,["modelValue"])]),Object(a["createElementVNode"])("div",P,[U,Object(a["createVNode"])(B,{id:"code",type:"number",Disabled:"",modelValue:k.transaction_code,"onUpdate:modelValue":t[9]||(t[9]=e=>k.transaction_code=e)},null,8,["modelValue"])]),Object(a["createElementVNode"])("div",$,[g,Object(a["createVNode"])(I,{id:"products",modelValue:k.selectedProduct,"onUpdate:modelValue":t[10]||(t[10]=e=>k.selectedProduct=e),options:e.allPrducts,optionLabel:"name",placeholder:"Select One"},null,8,["modelValue","options"])])]),Object(a["createVNode"])(C,null,{action:Object(a["withCtx"])(()=>[L]),_:1})],32)])])])}var k=l("bc3a"),x=l.n(k),B=l("05d8"),I=l("5502"),C={data(){return{selectedProduct:[],product_id:null,enddate:null,amount:null,approved:null,deduction:null,loandate:null,startdate:null,tenor:null,netpay:null,userid:null,transaction_code:null}},components:{SubmitButton:B["a"]},methods:{updateLoan(){if(null==this.amount||0==this.amount&&null==this.approved||0==this.approved&&null==this.deduction||0==this.deduction&&null==this.tenor||0==this.tenor&&null==this.netpay||0==this.netpay)this.$notify({text:"Please empty fields not allowed!",duration:5e3,type:"error"});else if(0==this.selectedProduct.length)this.$notify({text:"Please select a product",duration:5e3,type:"error"});else if(null==this.enddate||null==this.startdate||null==this.loandate)this.$notify({text:"Please select a valid date",duration:5e3,type:"error"});else{const e={end_date:this.enddate,applied_amount:this.amount,approved_amount:this.approved,monthly_deduction:this.deduction,loan_date:this.loandate,start_date:this.startdate,tenor:this.tenor,net_pay:this.netpay,product:this.selectedProduct.id,owner:this.userid,transaction_code:this.transaction_code},t=async()=>{try{await x.a.put("api/v1/loan/"+this.$route.params.loanId+"/",e);this.$router.push({name:"loan-detail",params:{id:this.$route.params.loanId}}),this.$notify({text:"Item Successfully Updated!",duration:5e3,type:"success"}),this.enddate=null,this.amount=null,this.approved=null,this.deduction=null,this.loandate=null,this.startdate=null,this.tenor=null,this.netpay=null,this.product_id=null,this.selectedProduct=null,this.userid=null}catch(t){this.$notify({text:"Something went wrong!",duration:5e3,type:"error"})}};t()}}},computed:{...Object(I["c"])(["allPrducts","loan_Detail"])},created(){this.$store.dispatch("getProducts"),this.$store.dispatch("getLoanDetail",this.$route.params.loanId).then(()=>{this.userid=this.loan_Detail.loan_owner_id,this.selectedProduct=this.loan_Detail.product_name,this.product_id=this.loan_Detail.product,this.enddate=this.loan_Detail.end_date,this.amount=this.loan_Detail.applied_amount,this.approved=this.loan_Detail.approved_amount,this.deduction=this.loan_Detail.monthly_deduction,this.loandate=this.loan_Detail.loan_date,this.startdate=this.loan_Detail.start_date,this.tenor=this.loan_Detail.tenor,this.netpay=this.loan_Detail.net_pay,this.transaction_code=this.loan_Detail.transaction_code}).catch(e=>{alert(e.response.data.detail)})}},A=l("6b0d"),T=l.n(A);const J=T()(C,[["render",S]]);t["default"]=J}}]);
//# sourceMappingURL=chunk-1be8797d.6c4aa7b2.js.map
{"version":3,"sources":["webpack:///./src/pages/Auth/Login.vue?0eca","webpack:///./src/pages/Auth/Login.vue","webpack:///./src/pages/Auth/Login.vue?65cf"],"names":["class","_createElementVNode","src","alt","height","style","for","_createElementBlock","_hoisted_3","_hoisted_4","_createVNode","_component_InputText","id","$data","$event","type","_hoisted_5","_component_router_link","to","_component_Button","onClick","$options","label","icon","length","_Fragment","_renderList","error","key","_toDisplayString","data","username","password","errors","computed","mapGetters","methods","mapMutations","submitLogin","axios","defaults","headers","common","localStorage","removeItem","this","push","FormData","post","then","response","token","auth_token","setToken","setUsername","setItem","$router","catch","__exports__","render"],"mappings":"2IAAA,W,yJCISA,MAAM,sG,GACFA,MAAM,wD,QACfC,gCAMM,OANDD,MAAM,oBAAkB,CACzBC,gCAAuG,OAAlGC,IAAI,mBAAmBC,IAAI,aAAaC,OAAO,KAAKJ,MAAM,OAAOK,MAAA,+BAEtEJ,gCAA6D,OAAxDD,MAAM,sCAAqC,aAHpD,I,QASIC,gCAA4E,SAArEK,IAAI,SAASN,MAAM,mCAAkC,YAAQ,I,QAGpEC,gCAA8E,SAAvEK,IAAI,WAAWN,MAAM,mCAAkC,YAAQ,I,GAGjEA,MAAM,wD,+BAO0F,oB,SAMpGA,MAAM,S,oMA9BXO,gCAoCM,MApCN,EAoCM,CAnCFN,gCAkCF,MAlCE,EAkCF,CAjCFO,EAQAP,gCAmBM,YAlBFQ,EACAC,yBAA8EC,EAAA,CAAnEC,GAAG,W,WAAoBC,W,qCAAAA,WAAQC,GAAEC,KAAK,OAAOf,MAAM,eAA9D,uBAEAgB,EACAN,yBAAkFC,EAAA,CAAvEC,GAAG,W,WAAoBC,W,qCAAAA,WAAQC,GAAEC,KAAK,WAAWf,MAAM,eAAlE,uBAEAC,gCAQM,MARN,EAQM,CADFS,yBAA+HO,EAAA,CAAlHC,GAAG,GAAGlB,MAAM,yEAAzB,C,6BAAiG,IAAgB,K,QAGrHU,yBACSS,EAAA,CADAC,QAAOC,cAAaC,MAAM,UAAUC,KAAK,aAAavB,MAAM,UAArE,sBAGqBa,SAAOW,iCAAhCjB,gCAIM,MAJN,EAIM,6BAHcA,gCAEIkB,cAAA,KAAAC,wBAFgBb,SAAVc,I,yBAAVpB,gCAEI,KAFyBqB,IAAKD,GAAKE,6BACrCF,GAAK,KADP,SADpB,2C,qCAgBW,GACXG,OACI,MAAO,CACHC,SAAU,GACVC,SAAU,GACVC,OAAQ,KAKhBC,SAAU,IACHC,eAAW,CAAC,cAAc,iBAGjCC,QAAS,IACFC,eAAa,CAAC,cAAc,aAE7BC,cAuBE,GApBAC,IAAMC,SAASC,QAAQC,OAAO,iBAAmB,GAGjDC,aAAaC,WAAW,SAGxBC,KAAKZ,OAAO,GAES,KAAlBY,KAAKd,UAEJc,KAAKZ,OAAOa,KAAK,+BAGA,KAAlBD,KAAKb,UACJa,KAAKZ,OAAOa,KAAK,gCAMjBD,KAAKZ,OAAOT,OAAO,CAEnB,MAAMuB,EAAU,CACZhB,SAAUc,KAAKd,SACfC,SAAUa,KAAKb,UAInBO,IACCS,KAAK,uBAAuBD,GAC5BE,KAAKC,IAIF,MAAMC,EAAQD,EAASpB,KAAKsB,WAE5BP,KAAKQ,SAASF,GAEdN,KAAKS,YAAYT,KAAKd,UAEtBQ,IAAMC,SAASC,QAAQC,OAAO,iBAAmB,SAAWS,EAG5DR,aAAaY,QAAQ,QAAQJ,GAC7BR,aAAaY,QAAQ,WAAWV,KAAKd,UAIrCc,KAAKW,QAAQV,KAAK,WAIrBW,MAAM9B,IACFkB,KAAKZ,OAAOa,KAAKnB,S,iCCpHtC,MAAM+B,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAE1E","file":"js/chunk-56c51201.abb9773c.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Login.vue?vue&type=style&index=0&id=8aa27b3a&scoped=true&lang=css\"","<template>\r\n    \r\n\r\n    <!-- new login template -->\r\n    <div class=\"surface-0 flex align-items-center justify-content-center min-h-screen min-w-screen overflow-hidden\">\r\n        <div class=\"surface-card p-4 shadow-2 border-round w-full lg:w-4\">\r\n    <div class=\"text-center mb-5\">\r\n        <img src=\"/images/logo.png\" alt=\"MIDAS Logo\" height=\"60\" class=\"mb-3\" style=\"width:60px; height:60px;\">\r\n\r\n        <div class=\"text-900 text-3xl font-medium mb-3\">Sign In</div>\r\n        <!-- <span class=\"text-600 font-medium line-height-3\">Don't have an account?</span>\r\n        <a class=\"font-medium no-underline ml-2 text-blue-500 cursor-pointer\">Create today!</a> -->\r\n    </div>\r\n\r\n    <div>\r\n        <label for=\"email1\" class=\"block text-900 font-medium mb-2\">Username</label>\r\n        <InputText id=\"username\" v-model=\"username\" type=\"text\" class=\"w-full mb-3\" />\r\n\r\n        <label for=\"password\" class=\"block text-900 font-medium mb-2\">Password</label>\r\n        <InputText id=\"password\" v-model=\"password\" type=\"password\" class=\"w-full mb-3\" />\r\n\r\n        <div class=\"flex align-items-center justify-content-between mb-6\">\r\n            <!-- <div class=\"flex align-items-center\">\r\n                <Checkbox id=\"rememberme1\" :binary=\"true\" v-model=\"checked\" class=\"mr-2\"></Checkbox>\r\n                <label for=\"rememberme1\">Remember me</label>\r\n            </div> -->\r\n        \r\n\r\n            <router-link to=\"\" class=\"font-medium no-underline ml-2 text-blue-500 text-right cursor-pointer\">Forgot password?</router-link>\r\n        </div>\r\n\r\n        <Button @click=\"submitLogin\" label=\"Sign In\" icon=\"pi pi-user\" class=\"w-full\">\r\n        </Button>\r\n    </div>\r\n    <div class=\"error\" v-if=\"errors.length\">\r\n                        <p v-for=\"error  in errors\" :key=\"error\">\r\n                        {{error}}\r\n                        </p>\r\n    </div>\r\n</div>\r\n    </div> \r\n\r\n</template>\r\n\r\n<script>\r\n\r\nimport axios from 'axios'\r\n\r\nimport { mapGetters,mapMutations,mapActions} from 'vuex'\r\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            username: '',\r\n            password: '',\r\n            errors: [],\r\n            \r\n        }\r\n    },\r\n  \r\n    computed: {\r\n        ...mapGetters(['user_Detail','getUsername'])\r\n    },\r\n    \r\n    methods: {\r\n        ...mapMutations(['setUsername','setToken']),\r\n  \r\n          submitLogin(){\r\n          \r\n        //   reset token\r\n            axios.defaults.headers.common['Authorization'] = \"\"\r\n\r\n            // remove old token from localStorage\r\n            localStorage.removeItem('token')\r\n\r\n            // // reset the errors array to empty\r\n            this.errors=[]\r\n            \r\n            if(this.username === ''){\r\n               \r\n                this.errors.push('The username field is empty')\r\n        \r\n            }\r\n            if(this.password === ''){\r\n                this.errors.push('The password field is empty')\r\n      \r\n            }\r\n            \r\n\r\n            // send data when no error exists\r\n            if(!this.errors.length){\r\n\r\n                const FormData ={\r\n                    username: this.username,\r\n                    password: this.password\r\n                }\r\n\r\n                // send data through using axios using promises\r\n                axios\r\n                .post('/api/v1/token/login/',FormData)\r\n                .then(response => {\r\n\r\n               \r\n\r\n                    const token = response.data.auth_token\r\n                    // call setToken mutation\r\n                    this.setToken(token)\r\n                    //call setUsername mutation\r\n                    this.setUsername(this.username)\r\n                    \r\n                    axios.defaults.headers.common['Authorization'] = \"Token \" + token\r\n\r\n                    // store in the local storage \r\n                    localStorage.setItem('token',token)\r\n                    localStorage.setItem('username',this.username)\r\n                  \r\n\r\n                   \r\n                    this.$router.push('/home')\r\n                \r\n                    \r\n                })\r\n                .catch(error =>{\r\n                     this.errors.push(error)\r\n                    })\r\n\r\n                // post data with axios using asycn/wait\r\n                // const sendPostRequest = async () => {\r\n                // try {\r\n                // const resp = await axios.post('https://jsonplaceholder.typicode.com/posts', newPost);\r\n                // console.log(resp.data);\r\n                // } catch (err) {\r\n                // // Handle Error Here\r\n                // console.error(err);\r\n                // }\r\n                // };\r\n                // sendPostRequest();\r\n\r\n         } \r\n        }\r\n    },\r\n   \r\n\r\n \r\n  \r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.pi-eye {\r\n    transform:scale(1.6);\r\n    margin-right: 1rem;\r\n}\r\n\r\n.pi-eye-slash {\r\n    transform:scale(1.6);\r\n    margin-right: 1rem;\r\n}\r\n</style>","import { render } from \"./Login.vue?vue&type=template&id=8aa27b3a&scoped=true\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport \"./Login.vue?vue&type=style&index=0&id=8aa27b3a&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\ProductionApps\\\\midas_frontend_v1\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-8aa27b3a\"]])\n\nexport default __exports__"],"sourceRoot":""}
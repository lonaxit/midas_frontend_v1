(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7634a767"],{"05d8":function(e,t,a){"use strict";var n=a("7a23");const o={class:"submit"};function r(e,t,a,r,i,c){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",o,[Object(n["renderSlot"])(e.$slots,"action")])}var i={},c=a("6b0d"),d=a.n(c);const l=d()(i,[["render",r]]);t["a"]=l},e27e:function(e,t,a){"use strict";a.r(t);var n=a("7a23");const o={class:"grid"},r={class:"col-12"},i={class:"card p-fluid"},c=Object(n["createElementVNode"])("h5",null,"Loan Transaction",-1),d={class:"p-fluid formgrid grid"},l={class:"field col-12 md:col-6"},s=Object(n["createElementVNode"])("label",{for:"credit"},"Credit",-1),u={class:"field col-12 md:col-6"},b=Object(n["createElementVNode"])("label",{for:"debit"},"Debit",-1),m={class:"field col-12 md:col-6"},p=Object(n["createElementVNode"])("label",{for:"transactiondate"},"Date",-1),h={class:"field col-12 md:col-6"},V=Object(n["createElementVNode"])("label",{for:"narration"},"Narration",-1),f=Object(n["createElementVNode"])("button",null,"Create Transaction",-1);function j(e,t,a,j,O,v){const y=Object(n["resolveComponent"])("InputText"),N=Object(n["resolveComponent"])("SubmitButton");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",o,[Object(n["createElementVNode"])("div",r,[Object(n["createElementVNode"])("div",i,[c,Object(n["createElementVNode"])("form",{onSubmit:t[4]||(t[4]=Object(n["withModifiers"])((...e)=>v.createDeduction&&v.createDeduction(...e),["prevent"]))},[Object(n["createElementVNode"])("div",d,[Object(n["createElementVNode"])("div",l,[s,Object(n["createVNode"])(y,{id:"credit",type:"number",step:"0.01",modelValue:O.credit,"onUpdate:modelValue":t[0]||(t[0]=e=>O.credit=e)},null,8,["modelValue"])]),Object(n["createElementVNode"])("div",u,[b,Object(n["createVNode"])(y,{id:"debit",type:"number",step:"0.01",modelValue:O.debit,"onUpdate:modelValue":t[1]||(t[1]=e=>O.debit=e)},null,8,["modelValue"])]),Object(n["createElementVNode"])("div",m,[p,Object(n["createVNode"])(y,{id:"transactiondate",type:"date",modelValue:O.transactiondate,"onUpdate:modelValue":t[2]||(t[2]=e=>O.transactiondate=e)},null,8,["modelValue"])]),Object(n["createElementVNode"])("div",h,[V,Object(n["createVNode"])(y,{id:"narration",type:"text",modelValue:O.narration,"onUpdate:modelValue":t[3]||(t[3]=e=>O.narration=e)},null,8,["modelValue"])])]),Object(n["createVNode"])(N,null,{action:Object(n["withCtx"])(()=>[f]),_:1})],32)])])])}var O=a("bc3a"),v=a.n(O),y=a("05d8"),N={data(){return{narration:null,debit:null,credit:null,deduction:null,transactiondate:null}},components:{SubmitButton:y["a"]},methods:{createDeduction(){if(this.credit||this.debit)if(this.credit&&this.debit)this.$notify({text:"Transaction can only be credit or debit not both",duration:5e3,type:"error"});else if(this.transactiondate)if(this.narration){const e={credit:this.credit,debit:this.debit,narration:this.narration,transaction_date:this.transactiondate,transaction_code:Math.floor(1e6+9e6*Math.random())},t=async()=>{try{await v.a.post("api/v1/deduction/"+this.$route.params.loan_Id+"/create/",e);this.credit=null,this.debit=null,this.transaction_date=null,this.narration=null,this.$router.push("/"+this.$route.params.loan_Id+"/loan"),this.$notify({text:"Created Successfully",duration:5e3,type:"success"})}catch(t){this.$notify({text:"Something went wrong",duration:5e3,type:"error"})}};t()}else this.$notify({text:"Enter a transaction narration",duration:5e3,type:"error"});else this.$notify({text:"Select a valid date",duration:5e3,type:"error"});else this.$notify({text:"Please provide a credit or debit value",duration:5e3,type:"error"})}},computed:{}},E=a("6b0d"),w=a.n(E);const $=w()(N,[["render",j]]);t["default"]=$}}]);
//# sourceMappingURL=chunk-7634a767.eeb60fb8.js.map